---
source: tests/demo_showcase_snapshots.rs
expression: normalized
---
Debug Tools: Pretty & Inspect

rich_rust provides debugging tools for inspecting Rust values.

Pretty: Styled Debug Output

ServiceInfo struct:

ServiceInfo {
    name: "api",
    health: Ok,
    latency: 12ms,
    version: "1.2.3",
}
Pretty uses the Debug trait to render values with optional wrapping.

Inspect: Value + Type Information

DemoStateSnapshot (partial):

Type: demo_showcase::state::DemoStateSnapshot
┏━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ Field    ┃ Value                             ┃
┡━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
│ run_id   │ 42                                │
│ seed     │ 12345                             │
│ headline │ "Booting Nebula Deploy…"          │
│ services │ [                                 │
│ name     │ "api"                             │
│ health   │ Ok                                │
│ latency  │ 12ms                              │
│ version  │ "1.2.3"                           │
│ name     │ "worker"                          │
│ health   │ Warn                              │
│ latency  │ 48ms                              │
│ version  │ "1.2.3"                           │
│ name     │ "db"                              │
│ health   │ Err                               │
│ latency  │ 0ns                               │
│ version  │ "13.4"                            │
│ pipeline │ [                                 │
│ name     │ "plan"                            │
│ status   │ Done                              │
│ progress │ 1.0                               │
│ eta      │ None                              │
│ name     │ "deploy"                          │
│ status   │ Running                           │
│ progress │ 0.42                              │
│ eta      │ Some(                             │
│ name     │ "verify"                          │
│ status   │ Pending                           │
│ progress │ 0.0                               │
│ eta      │ None                              │
│ name     │ "cleanup"                         │
│ status   │ Failed                            │
│ progress │ 0.0                               │
│ eta      │ None                              │
│ logs     │ [                                 │
│ level    │ Info                              │
│ message  │ "svc api: OK (12ms) v1.2.3"       │
│ level    │ Info                              │
│ message  │ "svc worker: WARN (48ms) v1.2.3"  │
│ level    │ Info                              │
│ message  │ "svc db: ERR (0ms) v13.4"         │
│ level    │ Debug                             │
│ message  │ "stage plan -> done"              │
│ level    │ Debug                             │
│ message  │ "stage deploy -> running eta=12s" │
│ level    │ Debug                             │
│ message  │ "stage verify -> pending"         │
│ level    │ Debug                             │
│ message  │ "stage cleanup -> failed"         │
│ level    │ Trace                             │
│ message  │ "TRACE: demo log line"            │
│ level    │ Debug                             │
│ message  │ "DEBUG: demo log line"            │
│ level    │ Info                              │
│ message  │ "INFO: demo log line"             │
│ level    │ Warn                              │
│ message  │ "WARN: demo log line"             │
│ level    │ Error                             │
│ message  │ "ERROR: demo log line"            │
│ failure  │ None                              │
└──────────┴───────────────────────────────────┘

Inspect shows the Rust type name and extracts struct fields.

Failure Context Inspection

FailureEvent (database timeout):

[
    (
        "host",
        "db.nebula.internal:5432",
    ),
    (
        "pool_size",
        "10",
    ),
    (
        "active_connections",
        "0",
    ),
    (
        "timeout_ms",
        "30000",
    ),
    (
        "retry_count",
        "3",
    ),
    (
        "last_error",
        "ETIMEDOUT",
    ),
]
Stack trace frames:

  nebula::db::pool::acquire at src/db/pool.rs:142
    timeout = Duration(30s)
    attempts = 3
  nebula::db::Connection::connect at src/db/connection.rs:87
    host = "db.nebula.internal"
    port = 5432
  nebula::deploy::cleanup::mark_complete at src/deploy/cleanup.rs:203
    deployment_id = "deploy-7f3a2b"
  nebula::pipeline::Stage::run at src/pipeline/stage.rs:56
    stage_name = "cleanup"

Failure events capture context for debugging and display.
